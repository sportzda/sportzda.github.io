<!DOCTYPE html>
<html lang="en">

<head>
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "tozdf538hj");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cricket Gloves Repairing Service | DA SPORTZ</title>
    <meta name="description"
        content="Professional cricket gloves repairing service. Expert repair and maintenance for all cricket gloves brands. Fast turnaround, competitive pricing." />
    <meta name="keywords"
        content="cricket gloves repair, gloves repairing service, cricket equipment repair, gloves maintenance, DA SPORTZ" />
    <link rel="canonical" href="https://dasportz.com/gloves-repairing.html" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Cricket Gloves Repairing | DA SPORTZ">
    <meta property="og:description"
        content="Professional cricket gloves repairing service. Expert repair and maintenance for all brands.">
    <meta property="og:image" content="https://dasportz.com/favicon.png">
    <meta property="og:url" content="https://dasportz.com/gloves-repairing.html">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Cricket Gloves Repairing | DA SPORTZ">
    <meta name="twitter:description"
        content="Professional cricket gloves repairing service. Expert repair and maintenance.">
    <meta name="twitter:image" content="https://dasportz.com/favicon.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Service",
      "name": "Cricket Gloves Repairing",
      "description": "Professional cricket gloves repairing and maintenance service",
      "provider": {
        "@type": "LocalBusiness",
        "name": "DA SPORTZ",
        "url": "https://dasportz.com"
      }
    }
    </script>

    <!-- Bootstrap and Fonts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        /* === SITE THEME / COLORS / FONTS === */
        :root {
            --primary-color: #1f1f1f;
            --accent-color: #ff5900;
            --nav-hover: #ff5900;
            --bg-light: #f4f4f4;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Barlow', sans-serif;
            font-size: 1rem;
            line-height: 1.6;
            background-color: var(--bg-light);
            color: var(--primary-color);
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .btn-custom {
            background-color: var(--accent-color);
            color: #fff;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 25px;
            font-weight: 500;
            font-family: 'Barlow', sans-serif;
            letter-spacing: 0.5px;
            transition: all 0.3s ease-in-out;
            margin-top: 1rem;
            cursor: pointer;
        }

        .btn-custom:hover:not(:disabled) {
            background-color: #e04800;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-custom:disabled {
            background-color: #cccccc;
            color: #666666;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .section-title {
            font-family: 'Barlow', sans-serif;
            font-weight: 700;
            color: var(--primary-color);
            text-align: center;
            margin-top: 2rem;
            margin-bottom: 2rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            height: 3px;
            width: 80px;
            background: var(--accent-color);
            margin: 0.5rem auto 2rem;
        }

        .top-bar {
            background-color: var(--primary-color);
            color: #fff;
            font-size: 0.9rem;
        }

        .top-bar a {
            color: #fff;
            text-decoration: none;
        }

        .offer-bar {
            background-color: var(--accent-color);
            color: #fff;
            font-weight: 500;
            font-size: 0.95rem;
        }

        nav.navbar {
            background: #ffffff;
            border-bottom: 1px solid #e1e1e1;
            font-family: 'Barlow', sans-serif;
            font-size: 0.95rem;
        }

        .navbar-brand {
            font-family: 'Barlow', sans-serif;
            font-weight: 800;
            font-size: 2rem;
            letter-spacing: 1px;
            color: var(--primary-color) !important;
        }

        .nav-link {
            font-weight: 500;
            color: var(--primary-color) !important;
            position: relative;
        }

        .nav-link::after {
            content: '';
            display: block;
            height: 2px;
            width: 0;
            background: var(--nav-hover);
            transition: width 0.3s ease-in-out;
            position: absolute;
            bottom: -6px;
            left: 0;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .form-label {
            font-weight: 500;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .form-control, .form-select {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 0.75rem;
            font-size: 1rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 0.2rem rgba(255, 89, 0, 0.25);
        }

        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .card-body {
            padding: 2rem;
        }

        .service-notes {
            background: #f8f9fa;
            border-left: 4px solid var(--accent-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
        }

        .service-notes h5 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .service-notes ul {
            margin: 0;
            padding-left: 1.5rem;
        }

        .service-notes li {
            margin-bottom: 0.25rem;
        }

        .image-upload-container {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            transition: border-color 0.3s ease;
            cursor: pointer;
        }

        .image-upload-container:hover {
            border-color: var(--accent-color);
        }

        .image-preview {
            max-width: 200px;
            max-height: 200px;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .other-make-input {
            display: none;
        }

        /* Login Modal Styles */
        #loginModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(3px);
        }

        #loginModal.show {
            display: flex;
        }

        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        .login-box {
            background: white;
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            position: relative;
        }

        .close-login {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--muted);
            cursor: pointer;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .close-login:hover {
            background: #f0f0f0;
            color: var(--primary-color);
        }

        .login-box h2 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .login-box .subtitle {
            color: var(--muted);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .login-error {
            background: #fee;
            color: #c33;
            padding: 0.75rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            display: none;
            font-size: 0.9rem;
        }

        .login-error.show {
            display: block;
        }

        footer {
            background: var(--primary-color);
            color: #fff;
            padding: 2rem 0 1rem 0;
        }

        footer a {
            color: var(--accent-color);
        }

        .whatsapp-float {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #25d366;
            color: #fff;
            box-shadow: 0 8px 30px rgba(10, 10, 10, 0.15);
            z-index: 1200
        }
    </style>
</head>

<body>
    <!-- Offer Bar -->
    <div class="offer-bar text-center py-2">
        üéâ Free stringing on 2+ rackets! | Visit us in-store today! üè∏
    </div>

    <!-- Top Bar -->
    <div class="top-bar py-2 border-bottom">
        <div class="container d-flex justify-content-between align-items-center flex-wrap">
            <div class="d-flex align-items-center gap-3">
                <span><i class="bi bi-telephone"></i> +91-8800505769</span>
                <span><i class="bi bi-envelope"></i> contact@dasportz.com</span>
            </div>
            <div class="d-flex align-items-center gap-3 mt-2 mt-md-0">
                <a href="https://g.co/kgs/n2Rg2j5" target="_blank" class="text-white"><i class="bi bi-google"></i>
                    Google Business</a>
                <a href="https://www.instagram.com/da.sportz?igsh=MW5jZGNxamVhMm1vaA%3D%3D&utm_source=qr"
                    class="text-white"><i class="bi bi-instagram"></i></a>
            </div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">DA SPORTZ</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between align-items-center" id="navbarNav">
                <ul class="navbar-nav ms-auto d-flex align-items-center">
                    <li class="nav-item"><a class="nav-link" href="index.html"><i class="bi bi-house"></i> Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#services" id="servicesDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-tools"></i> Services
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="servicesDropdown">
                            <li><a class="dropdown-item" href="#jersey-sublimation">Jersey Sublimation</a></li>
                            <li><a class="dropdown-item" href="stringing-booking.html">Racket Stringing</a></li>
                            <li><a class="dropdown-item" href="bat-knocking.html">Machine Cricket Bat Knocking</a></li>
                            <li><a class="dropdown-item" href="gloves-repairing.html">Cricket Gloves Repairing</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="productsDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-box-seam"></i> Products
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="productsDropdown">
                            <li><a class="dropdown-item" href="trophies-shop.html">Trophies and Awards</a></li>
                        </ul>
                    </li>
                    <li class="nav-item" id="analyticsMenuItem" style="display: none;">
                        <a class="nav-link" href="dashboard.html"><i class="bi bi-graph-up"></i> Analytics</a>
                    </li>
                    <li class="nav-item" id="staffDashboardMenuItem" style="display: none;">
                        <a class="nav-link" href="staff-dashboard.html"><i class="bi bi-speedometer2"></i> Staff
                            Dashboard</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="index.html#about"><i class="bi bi-info-circle"></i> About</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="index.html#contact"><i class="bi bi-envelope-open"></i>
                            Contact</a></li>
                    <li class="nav-item" id="loginMenuItem">
                        <a class="nav-link" href="#" id="loginBtn"><i class="bi bi-box-arrow-in-right"></i> Login</a>
                    </li>
                    <li class="nav-item dropdown" id="userProfileMenuItem" style="display: none;">
                        <a class="nav-link dropdown-toggle" href="#" id="userProfileDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="bi bi-person-circle"></i> <span id="navUsername">Admin</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userProfileDropdown">
                            <li><a class="dropdown-item" href="#" id="profileBtn"><i class="bi bi-person"></i>
                                    Profile</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="#" id="logoutBtn"><i class="bi bi-box-arrow-right"></i>
                                    Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Form Section -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h2 class="section-title mb-1">üß§ Cricket Gloves Repairing</h2>
                            <p class="muted mb-3">üß§ Get your cricket gloves professionally repaired and restored!</p>

                            <form id="glovesRepairForm" novalidate>
                                <!-- Store Select -->
                                <div class="mb-3">
                                    <label for="storeLocation" class="form-label">Select Store</label>
                                    <select id="storeLocation" class="form-select" required>
                                        <option value="">-- Choose Store --</option>
                                        <option selected>Gaur City 1</option>
                                        <option>Gaur City 2</option>
                                    </select>
                                </div>

                                <!-- Customer Name -->
                                <div class="mb-3">
                                    <label for="customerName" class="form-label">Your Name</label>
                                    <input type="text" id="customerName" class="form-control" required
                                        placeholder="Enter your full name">
                                </div>

                                <!-- Phone -->
                                <div class="mb-3">
                                    <label for="phone" class="form-label">WhatsApp Number for Real-Time Updates
                                        üì±</label>
                                    <input type="tel" id="phone" class="form-control"
                                        placeholder="10-digit WhatsApp number for order updates" pattern="[0-9]{10}"
                                        maxlength="10" required>
                                    <small class="text-muted">You'll receive real-time order status updates via
                                        WhatsApp</small>
                                </div>

                                <hr />

                                <!-- Make of Gloves -->
                                <div class="mb-3">
                                    <label for="glovesMake" class="form-label">Make of Gloves</label>
                                    <select id="glovesMake" class="form-select" required>
                                        <option value="">-- Select Make --</option>
                                        <option value="SS">SS</option>
                                        <option value="GM">GM</option>
                                        <option value="Kookaburra">Kookaburra</option>
                                        <option value="Puma">Puma</option>
                                        <option value="MRF">MRF</option>
                                        <option value="SG">SG</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>

                                <!-- Other Make Input -->
                                <div class="mb-3 other-make-input" id="otherMakeContainer">
                                    <label for="otherMake" class="form-label">Specify Make</label>
                                    <input type="text" id="otherMake" class="form-control"
                                        placeholder="Enter the make of your gloves">
                                </div>

                                <!-- Model -->
                                <div class="mb-3">
                                    <label for="glovesModel" class="form-label">Model</label>
                                    <input type="text" id="glovesModel" class="form-control" required
                                        placeholder="Enter gloves model (e.g., Elite, Pro, etc.)">
                                </div>

                                <!-- Nature of Repair -->
                                <div class="mb-3">
                                    <label for="natureOfRepair" class="form-label">Nature of Repair</label>
                                    <textarea id="natureOfRepair" class="form-control" rows="3" required
                                        placeholder="Describe the repair needed (e.g., tear in palm, broken finger, etc.)"></textarea>
                                </div>

                                <!-- Image Upload -->
                                <div class="mb-3">
                                    <label class="form-label">Upload Image (Optional)</label>
                                    <div class="image-upload-container" onclick="document.getElementById('imageUpload').click()">
                                        <i class="bi bi-camera" style="font-size: 2rem; color: #666;"></i>
                                        <p class="mb-0 mt-2">Click to upload image from camera or gallery</p>
                                        <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                                    </div>
                                    <img id="imagePreview" class="image-preview" style="display: none;" alt="Preview">
                                </div>

                                <!-- Estimate -->
                                <div class="mb-3">
                                    <label for="estimate" class="form-label">Estimate (‚Çπ)</label>
                                    <input type="number" id="estimate" class="form-control" min="0" step="0.01"
                                        placeholder="Enter estimated repair cost">
                                </div>

                                <!-- Pickup & Drop -->
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="pickupDrop">
                                    <label class="form-check-label" for="pickupDrop">
                                        Pickup & Drop by porter (charges borne by customer)
                                    </label>
                                </div>

                                <!-- Payment Method -->
                                <div class="mb-3">
                                    <label for="paymentMethod" class="form-label">Payment Method</label>
                                    <select id="paymentMethod" class="form-select" required>
                                        <option value="">-- Select Payment Method --</option>
                                        <option value="online" selected>Online Payment</option>
                                        <option value="payatoutlet">Cash</option>
                                    </select>
                                </div>

                                <!-- Summary -->
                                <div class="card p-3 mb-3">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <strong>Gloves Repair Service</strong>
                                        </div>
                                        <div>
                                            <strong>Estimate: ‚Çπ<span id="summaryEstimate">0</span></strong>
                                        </div>
                                    </div>
                                    <div class="alert alert-info mb-0 mt-2 py-2" style="font-size: 0.875rem;">
                                        <i class="bi bi-whatsapp"></i> <strong>Real-Time WhatsApp Updates:</strong>
                                        Track your repair status live! We'll send you instant notifications on WhatsApp
                                        when:
                                        <ul class="mb-0 mt-1 ps-3" style="font-size: 0.8rem;">
                                            <li>Order is confirmed</li>
                                            <li>Repair work starts</li>
                                            <li>Service is completed</li>
                                            <li>Ready for pickup</li>
                                        </ul>
                                    </div>
                                </div>

                                <!-- Terms & Conditions -->
                                <div id="service-notes" class="service-notes">
                                    <h5>Important Service Notes</h5>

                                    <ul>
                                        <li><strong>üß§ Service Details:</strong> Professional repair and maintenance service
                                            for cricket gloves. Service duration depends on the nature of repair.
                                        </li>

                                        <li><strong>‚ö° Safety:</strong> We handle your gloves with utmost care. However,
                                            we cannot be held responsible for pre-existing extensive damage.
                                        </li>

                                        <li><strong>üí∞ Pricing:</strong> Repair costs vary based on the nature and extent
                                            of damage. The estimate provided is approximate and final cost may vary.
                                        </li>

                                        <li><strong>üì¶ Pickup & Storage:</strong> Collect within <strong>7 days</strong>
                                            after completion to avoid storage charges. Pickup/Drop via porter is extra.
                                            <strong>We are not responsible for damage during transit.</strong>
                                        </li>

                                        <li><strong>üéØ Post-Repair:</strong> After repair, allow the gloves to settle
                                            for 24-48 hours before use.</li>
                                    </ul>
                                </div>

                                <p style="font-size:0.9rem; color:#555;">
                                    By clicking "Pay Now," you confirm you've read and agree to our
                                    <a href="#service-notes" style="color:#007bff;">service notes</a>.
                                </p>

                                <button id="confirmButton" type="button" class="btn-custom w-100">
                                    Pay Now
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="mt-5">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-4 mb-4">
                    <h5 class="text-uppercase">DA SPORTZ</h5>
                    <p>Your one-stop shop for premium sports gear. Trusted by players. Loved by champions.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="text-uppercase">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#about">About Us</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="refund_cancellation.html">Refund & Cancellation</a></li>
                        <li><a href="https://g.co/kgs/n2Rg2j5" target="_blank">Google Reviews</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5 class="text-uppercase">Follow Us</h5>
                    <a href="https://www.instagram.com/da.sportz?igsh=MW5jZGNxamVhMm1vaA%3D%3D&utm_source=qr"
                        class="me-3"><i class="bi bi-instagram"></i></a>
                    <a href="mailto:contact@dasportz.com"><i class="bi bi-envelope"></i></a>
                </div>
            </div>
            <div class="text-center pt-3 border-top border-secondary">
                <small>&copy; 2025 DA SPORTZ. All Rights Reserved.</small>
            </div>
        </div>
    </footer>

    <!-- WhatsApp floating -->
    <a href="https://wa.me/918800505769?text=Hi!%20I'm%20interested%20in%20your%20services" target="_blank"
        class="whatsapp-float" title="WhatsApp">
        <i class="bi bi-whatsapp fs-4"></i>
    </a>

    <!-- Login Modal -->
    <div id="loginModal">
        <div class="login-box">
            <button id="closeLoginBtn" class="close-login" title="Close">
                <i class="bi bi-x-lg"></i>
            </button>

            <h2 class="text-center"><i class="bi bi-shield-lock"></i> Login</h2>
            <p class="subtitle text-center">Access Analytics Dashboard</p>

            <div id="loginError" class="login-error">
                <i class="bi bi-exclamation-triangle"></i> Invalid username or password
            </div>

            <form id="loginForm">
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" id="username" class="form-control" placeholder="Enter username" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" id="password" class="form-control" placeholder="Enter password" required>
                </div>
                <button type="submit" class="btn w-100" style="background: var(--accent-color); color: white;">
                    <i class="bi bi-box-arrow-in-right"></i> Login
                </button>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>

    <!-- Config and Scripts -->
    <script src="js/config.js"></script>
    <script>
        // Authentication System
        const HARDCODED_USERNAME = 'admin';
        const HARDCODED_PASSWORD = 'admin';

        // DOM elements
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const loginError = document.getElementById('loginError');
        const closeLoginBtn = document.getElementById('closeLoginBtn');
        const loginMenuItem = document.getElementById('loginMenuItem');
        const userProfileMenuItem = document.getElementById('userProfileMenuItem');
        const analyticsMenuItem = document.getElementById('analyticsMenuItem');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const profileBtn = document.getElementById('profileBtn');
        const navUsername = document.getElementById('navUsername');

        // Scroll locking functions
        let scrollPosition = 0;

        function lockScroll() {
            scrollPosition = window.pageYOffset;
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollPosition}px`;
            document.body.style.width = '100%';
            document.body.classList.add('modal-open');
        }

        function unlockScroll() {
            document.body.style.removeProperty('overflow');
            document.body.style.removeProperty('position');
            document.body.style.removeProperty('top');
            document.body.style.removeProperty('width');
            document.body.classList.remove('modal-open');
            window.scrollTo(0, scrollPosition);
        }

        // Check authentication on page load
        function checkAuth() {
            const isAuthenticated = sessionStorage.getItem('dashboardAuth') === 'true';
            const username = sessionStorage.getItem('dashboardUser') || 'Admin';

            if (isAuthenticated) {
                loginMenuItem.style.display = 'none';
                userProfileMenuItem.style.display = 'block';
                analyticsMenuItem.style.display = 'block';
                const staffDashboardMenuItem = document.getElementById('staffDashboardMenuItem');
                if (staffDashboardMenuItem) staffDashboardMenuItem.style.display = 'block';
                navUsername.textContent = username;
            } else {
                loginMenuItem.style.display = 'block';
                userProfileMenuItem.style.display = 'none';
                analyticsMenuItem.style.display = 'none';
                const staffDashboardMenuItem = document.getElementById('staffDashboardMenuItem');
                if (staffDashboardMenuItem) staffDashboardMenuItem.style.display = 'none';
            }
        }

        // Show login modal
        function showLoginModal() {
            loginModal.style.display = 'flex';
            loginError.style.display = 'none';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            lockScroll();
        }

        // Hide login modal
        function hideLoginModal() {
            loginModal.style.display = 'none';
            unlockScroll();
        }

        // Login form submission
        loginForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === HARDCODED_USERNAME && password === HARDCODED_PASSWORD) {
                sessionStorage.setItem('dashboardAuth', 'true');
                sessionStorage.setItem('dashboardUser', username);
                hideLoginModal();
                checkAuth();
            } else {
                loginError.style.display = 'block';
            }
        });

        // Close login modal
        closeLoginBtn.addEventListener('click', hideLoginModal);

        // Login button click
        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            showLoginModal();
        });

        // Logout button click
        logoutBtn.addEventListener('click', (e) => {
            e.preventDefault();
            sessionStorage.removeItem('dashboardAuth');
            sessionStorage.removeItem('dashboardUser');
            checkAuth();
            // Scroll to top to show user they're back at home
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Profile button click
        profileBtn.addEventListener('click', (e) => {
            e.preventDefault();
            alert('Profile feature coming soon!');
        });

        // Close modal on outside click
        loginModal.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                hideLoginModal();
            }
        });

        // Check auth on page load
        checkAuth();

        // Form handling
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('glovesRepairForm');
            const confirmButton = document.getElementById('confirmButton');
            const glovesMakeSelect = document.getElementById('glovesMake');
            const otherMakeContainer = document.getElementById('otherMakeContainer');
            const otherMakeInput = document.getElementById('otherMake');
            const imageUpload = document.getElementById('imageUpload');
            const imagePreview = document.getElementById('imagePreview');
            const estimateInput = document.getElementById('estimate');
            const summaryEstimate = document.getElementById('summaryEstimate');

            // Handle make selection
            glovesMakeSelect.addEventListener('change', function() {
                if (this.value === 'other') {
                    otherMakeContainer.style.display = 'block';
                    otherMakeInput.required = true;
                } else {
                    otherMakeContainer.style.display = 'none';
                    otherMakeInput.required = false;
                }
            });

            // Handle image upload
            imageUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        imagePreview.src = e.target.result;
                        imagePreview.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Update summary estimate and button text
            estimateInput.addEventListener('input', function() {
                const amount = parseFloat(this.value) || 0;
                summaryEstimate.textContent = amount.toString();
                confirmButton.innerHTML = amount <= 0 ? 'Submit Order' : 'Pay Now';
            });

            // Initialize button text
            const initialAmount = parseFloat(estimateInput.value) || 0;
            confirmButton.innerHTML = initialAmount <= 0 ? 'Submit Order' : 'Pay Now';

            // Form validation
            function checkMandatoryFields() {
                const missingFields = [];
                const storeSelect = document.getElementById('storeLocation');
                const nameInput = document.getElementById('customerName');
                const phoneInput = document.getElementById('phone');
                const modelInput = document.getElementById('glovesModel');
                const natureInput = document.getElementById('natureOfRepair');
                const paymentMethodSelect = document.getElementById('paymentMethod');
                const amount = parseFloat(estimateInput.value) || 0;

                if (!storeSelect.value) missingFields.push('Store location');
                if (!nameInput.value.trim()) missingFields.push('Your name');
                if (!phoneInput.value.trim()) missingFields.push('Phone number');
                if (!glovesMakeSelect.value || (glovesMakeSelect.value === 'other' && !otherMakeInput.value.trim())) missingFields.push('Make of gloves');
                if (!modelInput.value.trim()) missingFields.push('Gloves model');
                if (!natureInput.value.trim()) missingFields.push('Nature of repair');
                if (amount > 0 && !paymentMethodSelect.value) missingFields.push('Payment method');

                return missingFields;
            }

            // Build payload
            function buildPayload() {
                const storeSelect = document.getElementById('storeLocation');
                const nameInput = document.getElementById('customerName');
                const phoneInput = document.getElementById('phone');
                const modelInput = document.getElementById('glovesModel');
                const natureInput = document.getElementById('natureOfRepair');
                const pickupDropCheckbox = document.getElementById('pickupDrop');
                const paymentMethodSelect = document.getElementById('paymentMethod');

                const make = glovesMakeSelect.value === 'other' ? otherMakeInput.value.trim() : glovesMakeSelect.value;

                return {
                    serviceType: 'gloves-repairing',
                    store: storeSelect.value,
                    customerName: nameInput.value.trim(),
                    phone: phoneInput.value.trim(),
                    glovesDetails: {
                        make: make,
                        model: modelInput.value.trim(),
                        natureOfRepair: natureInput.value.trim(),
                        estimate: parseFloat(estimateInput.value) || 0
                    },
                    pickupDrop: pickupDropCheckbox.checked,
                    paymentMethod: paymentMethodSelect.value,
                    payment: {
                        finalAmount: parseFloat(estimateInput.value) || 0
                    }
                };
            }

            // Set button loading state
            function setButtonLoading(loading, text) {
                confirmButton.disabled = loading;
                if (loading) {
                    confirmButton.innerHTML = `<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span> ${text || 'Processing...'}`;
                } else {
                    // Restore original button text based on amount
                    const amount = parseFloat(estimateInput.value) || 0;
                    confirmButton.innerHTML = amount <= 0 ? 'Submit Order' : 'Pay Now';
                }
            }

            // Validate phone
            function validPhone(phone) {
                return /^[0-9]{10}$/.test(phone);
            }

            // Payment flow (similar to bat knocking)
            async function onPayNowClicked(e) {
                e.preventDefault();

                if (paymentRequestInProgress) {
                    console.warn('Payment request already in progress. Ignoring duplicate click.');
                    return;
                }
                paymentRequestInProgress = true;

                const missingFields = checkMandatoryFields();
                if (missingFields.length > 0) {
                    paymentRequestInProgress = false;
                    alert(`Please complete the following required fields:\n\n${missingFields.map((field, index) => `${index + 1}. ${field}`).join('\n')}\n\nAll fields are required before proceeding with payment.`);
                    return;
                }

                const payload = buildPayload();

                if (!payload.store) {
                    paymentRequestInProgress = false;
                    alert('Store location is required.');
                    return;
                }

                if (!payload.customerName) {
                    paymentRequestInProgress = false;
                    alert('Your name is required.');
                    return;
                }

                if (!payload.phone) {
                    paymentRequestInProgress = false;
                    alert('Phone number is required.');
                    return;
                }

                if (!validPhone(payload.phone)) {
                    paymentRequestInProgress = false;
                    alert('Invalid phone number format. Please enter a valid 10-digit number.');
                    return;
                }

                if (!payload.glovesDetails.make) {
                    paymentRequestInProgress = false;
                    alert('Make of gloves is required.');
                    return;
                }

                if (!payload.glovesDetails.model) {
                    paymentRequestInProgress = false;
                    alert('Gloves model is required.');
                    return;
                }

                if (!payload.glovesDetails.natureOfRepair) {
                    paymentRequestInProgress = false;
                    alert('Nature of repair is required.');
                    return;
                }

                // Only require payment method if amount > 0
                const totalAmount = payload.payment.finalAmount;
                if (totalAmount > 0 && !payload.paymentMethod) {
                    paymentRequestInProgress = false;
                    alert('Payment method is required.');
                    return;
                }

                try {
                    setButtonLoading(true, 'Creating order...');

                    const createResp = await fetch(`${window.CONFIG.BACKEND_BASE}/api/create-order`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!createResp.ok) {
                        throw new Error(`HTTP ${createResp.status}: ${createResp.statusText}`);
                    }

                    const createData = await createResp.json().catch((err) => {
                        throw new Error('Invalid JSON response from server');
                    });
                    if (!createData || !createData.success) {
                        setButtonLoading(false);
                        paymentRequestInProgress = false;
                        console.error('create-order failed', createData);
                        alert('Failed to create order. ' + (createData?.message || JSON.stringify(createData)));
                        return;
                    }

                    // Check if amount is zero - skip payment entirely
                    const totalAmount = payload.payment.finalAmount;
                    if (totalAmount <= 0) {
                        const order = createData.order || createData.data || {};
                        const orderId = order.order_id || (createData.data && createData.data.order_id) || createData.order_id || createData.id || 'DS-' + Date.now();
                        const amount = '0';
                        const params = new URLSearchParams({ oid: orderId, amount, name: payload.customerName, store: payload.store, service: 'gloves-repairing' });
                        window.location.href = `/order-accepted.html?${params.toString()}`;
                        return;
                    }

                    // Pay at outlet flow
                    if (payload.paymentMethod === 'payatoutlet') {
                        const order = createData.order || createData.data || {};
                        const orderId = order.order_id || (createData.data && createData.data.order_id) || '';
                        const amount = (order.amount || createData.data?.amount || createData.amount || 0).toString();
                        const params = new URLSearchParams({ oid: orderId, amount, name: payload.customerName, store: payload.store });
                        window.location.href = `/order-accepted.html?${params.toString()}`;
                        return;
                    }

                    // Online payment flow (Zoho)
                    const resp = (createData.data || createData);
                    const paymentsSessionId = resp.payments_session_id || resp.paymentsSessionId || resp.payments_session || resp.payments_session_id;
                    const amount = resp.amount || resp.amount_due || payload.payment.finalAmount.toString();

                    // For gloves-repairing, redirect to payment success (Zoho integration not implemented yet)
                    const orderId = resp.order_id || resp.orderId || '';
                    const params = new URLSearchParams({
                        oid: orderId,
                        amount: amount.toString(),
                        name: payload.customerName,
                        service: 'gloves-repairing'
                    });
                    window.location.href = `/payment-success.html?${params.toString()}`;

                } catch (err) {
                    console.error('Order submission error', err);
                    alert('Something went wrong while processing your order. Please try again.');
                } finally {
                    paymentRequestInProgress = false;
                    setButtonLoading(false);
                }
            }

            let paymentRequestInProgress = false;
            confirmButton.addEventListener('click', onPayNowClicked);
        });
    </script>

</body>

</html></content>
<parameter name="filePath">/Users/deepaksuyal/Documents/Git/sportzda.github.io/gloves-repairing.html